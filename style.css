/* ========== GENERAL LAYOUT ========== */
body {
  font-family: "Inter", Arial, sans-serif;
  background: #ffffff;
  color: #222;
  margin: 40px;
}

/* Subtle background gradient */
html, body {
  background: linear-gradient(180deg, #f7f9fc 0%, #ffffff 40%, #f9fbff 100%);
}

h1, h2 {
  text-align: center;
  margin-bottom: 4px;
}

p {
  text-align: center;
  margin-top: 0;
  color: #555;
}

/* ========== SITE HEADER ========== */
#site-header {
  width: 95%;
  max-width: 1400px;
  margin: 0 auto 40px auto;
  text-align: center;
  padding: 24px 20px;
  color: #fff;
  background: linear-gradient(135deg, #0f9d58 0%, #34a853 60%, #56c36b 100%);
  border-radius: 16px;
  box-shadow: 0 10px 28px rgba(16, 63, 35, 0.18);
}

#site-header h1 {
  margin-bottom: 10px;
  color: #ffffff;
  text-align: left;
}

#site-header p {
  color: rgba(255, 255, 255, 0.92);
  max-width: 860px;
  margin: 0;
  text-align: left;
}

#site-header .header-sub {
  margin-top: 6px;
  font-size: 14px;
  color: rgba(255, 255, 255, 0.88);
}

/* Header meta chips */
.meta-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: flex-start;
  margin-top: 14px;
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.16);
  border: 1px solid rgba(255, 255, 255, 0.28);
  color: #fff;
  font-size: 14px;
  backdrop-filter: blur(2px);
}

.chip strong { color: #ffffff; }

hr {
  margin: 60px auto;
  width: 85%;
  border: 1px solid #ccc;
}

/* ========== CHART CARDS ========== */
.chart-card {
  background: rgba(255, 255, 255, 0.75);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  padding: 16px 16px 12px 16px;
  box-shadow: 0 6px 20px rgba(18, 38, 63, 0.08);
}

.chart-card.center {
  width: 90%;
  margin: 20px auto 0 auto;
}

.chart-card.right {
  width: 90%;
  margin: 20px 40px 0 auto; /* right-aligned */
}

.chart-card.left {
  width: 90%;
  margin: 20px auto 0 40px; /* left-aligned */
}

/* Remove extra outer margins on inner chart containers when wrapped */
.chart-card > #vis,
.chart-card > #inflation,
.chart-card > #choropleth {
  margin: 0;
}

/* Ensure fixed-width charts align to the right inside right-aligned cards */
.chart-card.right > #amenities,
.chart-card.right > #inflation {
  margin-left: auto;
}

.chart-caption {
  font-size: 13px;
  color: #666;
  margin-top: 8px;
}

.chart-card.right .chart-caption {
  text-align: right;
}

.chart-card.left .chart-caption {
  text-align: left;
}

/* ========== CHART SECTIONS ========== */
#vis, #inflation, #choropleth, #amenities {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

/* Pretty section headers for major charts */
.section-header {
  width: 95%;
  margin: 20px auto 8px auto;
  padding: 16px 20px;
  border-radius: 12px;
  background: linear-gradient(135deg, #f6f9ff 0%, #eef5ff 50%, #ffffff 100%);
  box-shadow: 0 6px 20px rgba(18, 38, 63, 0.08);
}
.section-header.center { text-align: center; }
.section-header.right { text-align: right; }
.section-header h2 { margin: 0 0 6px 0; }
.section-header p { margin: 0; color: #5a6b7b; }

/* Align inflation header with right-aligned chart card */
#inflation-section .section-header.right {
  align-self: flex-end;                /* stick to the right above chart */
  width: auto;                         /* keep compact width */
  max-width: 520px;                    /* original width cap */
  margin: 0 40px 10px 0;               /* align with chart's right edge */
  text-align: right;                   /* right-aligned text */
  min-width: 70%;                      /* make container wider without shifting text */
}

/* Centered inflation header like global section */
#inflation-section .section-header.center {
  width: 95%;
  margin: 20px auto 8px auto;
  text-align: center;
}

/* Ensure inner texts in centered header are truly centered */
#inflation-section .section-header.center h2,
#inflation-section .section-header.center p {
  text-align: center !important;
  margin: 0 auto !important;
  max-width: none;
}

/* Inflation + Amenities container sections */
#inflation-section,
#amenities-section {
  width: 90%;
  margin: 40px auto;
}

/* Make section headers left-aligned */
#inflation-section h2, #inflation-section p,
#amenities-section h2, #amenities-section p {
  text-align: left;
  margin-left: 40px;
  max-width: 700px;
}

/* ========== INFLATION SECTION RIGHT-ALIGNED ========== */
#inflation-section {
  display: flex;
  flex-direction: column;
  align-items: flex-end;  /* Right-align all content */
  width: 95%; /* match outer containers */
  margin: 40px auto;
}

/* Make the inflation chart card span wider like other containers */
#inflation-section .chart-card {
  width: 95%;
}

#inflation-section h2,
#inflation-section p {
  text-align: right;      /* Align text to the right */
  margin-right: 40px;     /* Add space from the right edge */
  max-width: 520px;
}

#inflation {
  display: flex;
  justify-content: flex-end; /* Push chart to the right */
  width: 90%;
  margin-right: 40px;
  margin-top: 20px;
}


/* ========== POVERTY MAP SECTION LEFT-ALIGNED ========== */
#poverty-map-section {
  display: flex;
  flex-direction: column;
  align-items: flex-start;   /* Align all children (headings, text, map) left */
  width: 90%;
  margin: 60px auto 0 auto;
}

#poverty-map-section h2 {
  text-align: left !important;  /* Force left alignment */
  width: 100%;
  margin-left: 40px;
  margin-bottom: 4px;
}

#poverty-map-section p {
  text-align: left !important;  /* Force left alignment */
  width: 100%;
  margin-left: 40px;
  color: #555;
  max-width: 700px;
}

#choropleth {
  display: flex;
  justify-content: flex-start;  /* Left-align map container */
  width: 90%;
  margin-left: 40px;
  margin-top: 20px;
}


/* ========== AMENITIES SECTION RIGHT-ALIGNED ========== */
#amenities-section,
#amenities-panel {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Right-align content */
  width: 90%;
  margin: 40px auto;
}

/* New individual container wrapper for amenities */
#amenities-card {
  width: 95%;
  margin: 60px auto; /* add spacing above and below */
}

#amenities-section h2,
#amenities-section p,
#amenities-panel h2,
#amenities-panel p {
  text-align: right;        /* Right-align headings & paragraph */
  margin-right: 40px;       /* Space from right edge */
  max-width: 700px;
}

.controls {
  display: flex;
  gap: 16px;
  justify-content: flex-end; /* Move dropdowns to right */
  align-items: center;
  margin: 10px 40px 25px auto;
  flex-wrap: wrap;
}

#amenities {
  display: flex;
  justify-content: flex-end; /* Move chart to the right */
  width: 800px;              /* Bigger chart */
  max-width: 95%;
  margin-right: 40px;
  margin-top: 20px;
}

/* Row layout: pictogram left, bar chart right */
.amenities-row {
  display: grid;
  grid-template-columns: 260px 1fr; /* small pictogram, large chart */
  gap: 16px;
  align-items: start;
  margin: 0 40px 10px 40px; /* ensure it sits inside the container */
}

.pictogram-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px 8px 0 8px;
}

.pictogram-card .pic-caption {
  font-size: 12px;
  color: #556;
  margin-top: 6px;
  text-align: center;
}

.amenities-chart {
  width: auto;
  margin-left: 12px; /* nudge chart slightly to the right */
}

#amenities .vega-embed,
#amenities .vega-embed > * {
  max-width: 100% !important;
}

/* Connected background card for map + amenities without changing layout */
#amenities-container {
  width: 95%;
  margin: 0 auto 40px auto;
  background: rgba(255, 255, 255, 0.75);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(18, 38, 63, 0.08);
  padding: 8px 0;
}

#map-panel, #amenities-panel {
  margin: 0; /* remove extra outer margins so they look like one container */
}

#map-panel .chart-card,
#amenities-panel .chart-card {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  margin: 0;
}

