<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Global Inequality Dashboard (World Bank Data)</title>

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="site-header">
    <h1>Economic Inequality and Living Conditions: A Global-to-Malaysia Perspective</h1>
    <p>This poster gives an overview of inequality, prices, poverty, and access to basic amenities using global indicators alongside Malaysia’s latest district-level statistics. It is designed to help you compare patterns across places and time, and to quickly spot where outcomes are strong and where gaps remain. Explore the charts below to dive into country and district detail.
    </p>
    <div class="meta-chips">
      <span class="chip"><strong>Author:</strong> Michelle Evangelina</span>
      <span class="chip"><strong>Sources:</strong> World Bank (Gini, CPI), Malaysia HIES 2022</span>
    </div>
  </header>

  <!-- ========== GINI MAP SECTION ========== -->
  <h2>Global Inequality by Gini Index</h2>
  <p>The Gini Index measures income inequality within countries. A higher score indicates greater inequality in the distribution of income among citizens.</p>
  <div class="chart-card center">
    <div id="vis"></div>
  </div>

  <hr>

  <!-- ========== INFLATION CHART SECTION ========== -->
  <div id="inflation-section">
    <h2>Inflation Rate Trends (2010–2024)</h2>
    <p>Annual percentage change in consumer prices across selected countries (World Bank Data).</p>
    <div class="chart-card right">
      <div id="inflation"></div>
    </div>
  </div>

  <hr>

  <!-- ========== MALAYSIA MAP + AMENITIES SECTION ========== -->
  <div id="amenities-container">

    <!-- TOP RIGHT (now on top): Well-being summary card -->
    <aside id="wellbeing-card" class="chart-card right">
        <div class="wb-info">
          <h2>A summary of well-being by sub-component</h2>
          <p class="wb-date">Data as of 2022</p>
          <p class="wb-desc">Indices summarise changes in quality of life. Values above 100 indicate improvements relative to the year 2000 baseline.</p>
        </div>
        <div class="wb-chart">
          <div id="wellbeing-heatmap"></div>
        </div>
      </aside>
    
    <!-- BELOW: Map -->
    <div id="map-panel">
      <h2>Poverty Rate by State in Malaysia (2022)</h2>
      <p>Choropleth map showing relative poverty rates across states.</p>
      <div class="chart-card left">
        <div id="choropleth"></div>
      </div>
    </div>

    <!-- TOP RIGHT: Amenities chart -->
    <div id="amenities-panel">
      <h2>Access to Basic Amenities by State & District</h2>
      <p>Compare changes in access to piped water, sanitation, and electricity across Malaysian districts over time.</p>

      <div class="controls">
        <label for="stateSel">State:</label>
        <select id="stateSel"></select>

        <label for="districtSel">District:</label>
        <select id="districtSel"></select>
      </div>

      <div class="chart-card right">
        <div id="amenities"></div>
      </div>
    </div>

    <!-- BOTTOM LEFT: Scatter Plot -->
    <div id="scatter-panel">
      <h2>Income vs Poverty Rate by District (Malaysia, 2022)</h2>
      <p>Interactive scatter plot showing relationship between household income, expenditure, and poverty rates across Malaysian districts.</p>
      <div class="chart-card left">
        <div id="scatter"></div>
      </div>
    </div>
  </div>

  <hr>

  <!-- ========== JS FILES ========== -->
  <script>
    vegaEmbed("#vis", "charts/giniMap", { actions: false });
    vegaEmbed("#inflation", "charts/inflationChart.json", { actions: false });
    vegaEmbed("#choropleth", "charts/malaysia_choropleth", { actions: false });
    vegaEmbed("#scatter", "charts/scatterPlot.json", { actions: false });
    vegaEmbed("#wellbeing-heatmap", "charts/wellbeing_heatmap.json", { actions: false });
  </script>

  <script src="js/amenitiesChart"></script>

</body>
</html>
