<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Global Inequality Dashboard (World Bank Data)</title>

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="site-header">
    <h1>Economic Inequality and Living Conditions: A Global-to-Malaysia Perspective</h1>
    <p>This poster gives an overview of inequality, prices, poverty, and access to basic amenities using global indicators alongside Malaysia’s latest district-level statistics. It is designed to help you compare patterns across places and time, and to quickly spot where outcomes are strong and where gaps remain. Explore the charts below to dive into country and district detail.
    </p>
    <div class="meta-chips">
      <span class="chip"><strong>Author:</strong> Michelle Evangelina</span>
      <span class="chip"><strong>Sources:</strong> World Bank (Gini, CPI), Malaysia HIES 2022</span>
    </div>
  </header>

  <!-- ========== GINI MAP SECTION ========== -->
  <h2>Global Inequality by Gini Index</h2>
  <p>The Gini Index measures income inequality within countries. A higher score indicates greater inequality in the distribution of income among citizens.</p>
  <div class="chart-card center">
    <div id="vis"></div>
    <div class="chart-caption">Darker shades indicate higher inequality (Gini 0–100). Latest available year per country.</div>
  </div>

  <hr>

  <!-- ========== INFLATION CHART SECTION ========== -->
  <div id="inflation-section">
    <h2>Inflation Rate Trends (2010–2024)</h2>
    <p>Annual percentage change in consumer prices across selected countries (World Bank Data).</p>
    <div class="chart-card right">
      <div id="inflation"></div>
      <div class="chart-caption">Annual % change in CPI. Use legend to focus series; higher peaks indicate price surges.</div>
    </div>
  </div>

  <hr>

  <!-- ========== MALAYSIA MAP + AMENITIES SECTION ========== -->
  <div id="amenities-container">

    <!-- LEFT: Map -->
    <div id="map-panel">
      <h2>Poverty Rate by State in Malaysia (2022)</h2>
      <p>Choropleth map showing relative poverty rates across states.</p>
      <div class="chart-card left">
        <div id="choropleth"></div>
      </div>
    </div>

    <!-- RIGHT: Amenities chart -->
    <div id="amenities-panel">
      <h2>Access to Basic Amenities by State & District</h2>
      <p>Compare changes in access to piped water, sanitation, and electricity across Malaysian districts over time.</p>

      <div class="controls">
        <label for="stateSel">State:</label>
        <select id="stateSel"></select>

        <label for="districtSel">District:</label>
        <select id="districtSel"></select>
      </div>

      <div class="chart-card right">
        <div id="amenities"></div>
        <div class="chart-caption">Select a state and district to update the chart. Values show % of households with access.</div>
      </div>
    </div>
  </div>

  <hr>

  <!-- ========== JS FILES ========== -->
  <script>
    vegaEmbed("#vis", "charts/giniMap", { actions: false });
    vegaEmbed("#inflation", "charts/inflationChart", { actions: false });
    vegaEmbed("#choropleth", "charts/malaysia_choropleth", { actions: false });
  </script>

  <script src="js/amenitiesChart"></script>

</body>
</html>
